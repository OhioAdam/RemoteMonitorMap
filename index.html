<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Remote Monitoring Map using Mapbox</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<style>
    .mapboxgl-popup {
        max-width: 400px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
    }
</style>
<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiZWFydGhhZGFtIiwiYSI6ImNpenJpcTFkbjAwODUyd21mcXhhN3NscG4ifQ.5aXKquX7sLeQr6xFLdghFg';

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/earthadam/cjf0rz4yj6dj32sliavy2l0dg',
    center: [13.902049,3.489016],
    zoom: 3
});

map.on('load', function() {

    // Add a layer showing the places.
    map.addLayer({
        "id": "places",
        "type": "symbol",
        "source": {
            "type": "geojson",
            "data": {
                "type": "FeatureCollection",
                "features": [{
                    "type": "Feature",
                    "properties": {
                        "description": "<div style=\"background-color:black;\"><strong style=\"background-color:black;color:white;>\">Pediatorkope</strong><p style=\"background-color:black;color:gray;\"><a style=\"color:yellow;\" href=\"https://youtu.be/4hJvukHqcIs\" target=\"_blank\" title=\"Opens in a new window\">Renewable Island Microgrid</a> visit in 2017 by the IEEE Smart Village committee</p></div>",
                        "icon": "theatre"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [ 0.626320,5.815529]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>GIMPA University</strong><p>IEEE Power Africa 2017 <a href=\"http://sites.ieee.org/powerafrica/\" target=\"_blank\" title=\"Opens in a new window\">IEEE Power Africa 2017</a> brings together energy practitioners from across Africa</p>",
                        "icon": "theatre"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [ -0.200862,5.635751]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<img src=\"http://chart.apis.google.com/chart?cht=p3&chd=t:48.78,51.21&chs=350x100&chl=Males(48.8%)|Females(51.2%)\"/><strong>Basic Chart Test</strong><p>Just testing a basic chart in the hover-over pop-up. <a href=\"plot.html\" target=\"_blank\" title=\"Opens in a new window\">Click Here</a> to follow for the rest of the chart.</p>",
                        "icon": "bar"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [0.090372, 0.881189]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>OSM Infrastructure Map</strong><p>The <a href=\"https://openinframap.org/#5/17.795/10.081/Power-Telecoms\" target=\"_blank\" title=\"Opens in a new window\">Open Infrastructure Map</a> uses the OSM protocol to map power and telecom projects around the world</p>",
                        "icon": "art-gallery"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [1,711561, -28.882342]
                    }
                }, 
				
				
				///ISV 2018 Project Briefs
				
				{
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Igniting Africa (IA)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Cameroon</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [10.400546,6.403926]
                    }
                },{
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Renewable Energy Innovators (REIc)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Cameroon</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [11.95982,6.22576]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Shakti Empowerment Solutions (SES)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">India</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [84.15527,27.64461]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Solar Soul Collective (SSC)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">India</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [80.722778,28.544000]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Green Village Electricity (GVE)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Nigeria</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [9.596389,8.943611]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Green Village Electricity (GVE)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Nigeria</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [12.014167,10.142500]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Green Village Electricity (GVE)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Nigeria</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [9.703889,8.778056]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Shaybis Nigeria Ltd (SNL)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Nigeria</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [4.94450628,8.66326173]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Madan PNG Community Smart Village (CTC)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Papua New Guinea</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [144.404788,-5.810748]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Africa Development Promise (ADP)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Uganda</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [32.4800,0.4000]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Maasai Trust (MAA)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Kenya</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [35.2349,-1.3632]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Seva-Bharati (SBI)</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">India</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [86.87346849999994,22.5226044]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Bending Bamboo</strong><p><a href=\"http://www.truckeroodc.com/www/\" target=\"_blank\">Vietnam</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>",
                        "icon": "music"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [105.722778,10.005472]
                    }
                }]
            }
        },
        "layout": {
            "icon-image": "{icon}-15",
            "icon-allow-overlap": true
        }
    });

    // Create a popup, but don't add it to the map yet.
    var popup = new mapboxgl.Popup({
        closeButton: false,
        closeOnClick: false
    });

    map.on('mouseover', 'places', function(e) {
        // Change the cursor style as a UI indicator.
        map.getCanvas().style.cursor = 'pointer';

        // Populate the popup and set its coordinates
        // based on the feature found.
        popup.setLngLat(e.features[0].geometry.coordinates)
            .setHTML(e.features[0].properties.description)
            .addTo(map);
    });

    map.on('click', function() {
        map.getCanvas().style.cursor = '';
        popup.remove();
    });
});
</script>

</body>
</html>